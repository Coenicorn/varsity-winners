<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>varsity winners</title>
    <link rel="apple-touch-icon" sizes="57x57" href="assets/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="assets/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="assets/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        <div class="header">
            <h1>Varsity Winners</h1>
        </div>

        <div class="invisible" id="copy-content">
            <div class="info-dropdown-title info-item"><span class="left bold title-text-number">#0</span><span class="right bold title-text-year">0000</span></div>
            <div class="dropdown invisible">
            </div>
        </div>

        <div class="grand-container">
            <div class="data-container-wrapper" id="wrapper-men">
                <h1>men</h1>
                <button class="expand-button" id="expand-button-men" onclick="expandCollapseAll(document.getElementById('wrapper-men'))">expand all</button>

                <div class="column-container" id="column-container-men"></div>
            </div>
            <div class="data-container-wrapper" id="wrapper-women">
                <h1>women</h1>
                <button class="expand-button" id="expand-button-women" onclick="expandCollapseAll(document.getElementById('wrapper-women'))">expand all</button>
                <div class="column-container" id="column-container-women"></div>
            </div>
        </div>
    </main>

    <footer>
        <p><a href="https://github.com/coenicorn/varsity-winners">source</a></p>
        <p>© Coen Bleumers 2024</p>
        <p><a href="mailto:coenicorn.blauwzee@gmail.com">contact</a></p>
    </footer>

    <script>
        /* https://www.toptal.com/developers/javascript-minifier */
        let varsity_data,varsity_sources;const varsity_data_url="https://raw.githubusercontent.com/Coenicorn/varsity-winners/refs/heads/master/varsity_winners.json",varsity_sources_url="https://raw.githubusercontent.com/Coenicorn/varsity-winners/refs/heads/master/varsity_winners_sources.json";function changeTextContent(e,n){e.innerHTML=e.innerHTML.replace("placeholder",n)}const portraitColumns=1,landscapeColumns=1;let columns=1,collapseStatus="expand all";async function sleep(e){await new Promise((n,t)=>{setTimeout(n,e)})}function newInfoItem(e,n,t){let a=document.createElement("p");a.classList.add(e),a.classList.add("info-item");let s=document.createElement("span");return s.innerHTML+=n,s.classList.add("emoji"),a.appendChild(s),a.innerHTML+=t,a}function newSourceItem(e,n,t){let a=document.createElement("a");return a.innerHTML="source",a.href=t,a.target="_blank",newInfoItem(e,n,a.outerHTML)}async function fillContainerWithData(e,n){e.innerHTML="";let t=document.getElementById("copy-content");for(let a=0;a<n.length;a++){let s=t.cloneNode(!0);s.id=n[a].date,s.classList.remove("invisible"),s.classList.add("info-container");let i=s.getElementsByClassName("info-dropdown-title")[0],l=s.getElementsByClassName("dropdown")[0];i.getElementsByClassName("title-text-number")[0].innerHTML=n.length-a,i.getElementsByClassName("title-text-year")[0].innerHTML=n[a].date.split("-")[2],l.appendChild(newInfoItem("info-date","\uD83D\uDDD3️",n[a].date)),l.appendChild(newInfoItem("info-location","\uD83C\uDF0E",n[a].location)),l.appendChild(newInfoItem("info-club","\uD83E\uDD47",n[a].club)),l.appendChild(newInfoItem("info-time","⏱️",n[a].time)),l.appendChild(newInfoItem("info-margin","\uD83E\uDD48","+"+(""==n[a].alt_margin?n[a].margin:n[a].alt_margin)));for(let o=0;o<n[a].crew.length-1;o++)l.appendChild(newInfoItem("info-crew","\uD83D\uDC65",n[a].crew[o].name));l.appendChild(newInfoItem("info-crew",n==varsity_data.men?"\uD83D\uDDE3️":"\uD83D\uDC65",n[a].crew[n[a].crew.length-1].name));for(let r=0;r<n[a].notes.length;r++)l.appendChild(newInfoItem("info-note","\uD83D\uDCDD",n[a].notes[r]));for(let c=0;c<n[a].sources.length;c++)l.appendChild(newSourceItem("info-source","ℹ️",varsity_sources[n[a].sources[c]]));e.appendChild(s)}}function rerender(){fillContainerWithData(document.getElementById("column-container-men"),varsity_data.races[0].data),fillContainerWithData(document.getElementById("column-container-women"),varsity_data.races[1].data);for(let e=document.getElementsByClassName("info-container"),n=e.length,t=0;t<n;t++){let a=e[t],s=a.getElementsByClassName("info-dropdown-title")[0],i=a.getElementsByClassName("dropdown")[0];s.addEventListener("click",()=>{i.classList.contains("invisible")?i.classList.remove("invisible"):i.classList.add("invisible")})}}function applyMobileChanges(){}async function getSources(){await fetch("https://raw.githubusercontent.com/Coenicorn/varsity-winners/refs/heads/master/varsity_winners.json").then(e=>e.json()).then(e=>varsity_data=e),await fetch("https://raw.githubusercontent.com/Coenicorn/varsity-winners/refs/heads/master/varsity_winners_sources.json").then(e=>e.json()).then(e=>varsity_sources=e),dataSource=varsity_data.men}async function main(){await getSources(),applyMobileChanges(),rerender(),setInterval(applyMobileChanges,500)}function expandCollapseAll(e){let n=e.getElementsByClassName("dropdown");if(e.classList.contains("collapsed")){for(let t=0,a=n.length;t<a;t++)n[t].classList.add("invisible");e.classList.remove("collapsed")}else{for(let s=0,i=n.length;s<i;s++)n[s].classList.remove("invisible");e.classList.add("collapsed")}e.getElementsByClassName("expand-button")[0].innerHTML=e.classList.contains("collapsed")?"collapse all":"expand all"}document.addEventListener("DOMContentLoaded",main);
    </script>
    <!-- <script src="index.js"></script> -->
</body>
</html>